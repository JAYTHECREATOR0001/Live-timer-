<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Binance-style Crypto UI ‚Äî Withdraw Draining</title>
<style>
  :root{
    --bg:#0e0f11;
    --card:#1b1c1f;
    --muted:#9b9b9b;
    --yellow:#f5c32c;
    --green:#1ecb6c;
  }
  html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;background:var(--bg);color:#fff;}
  .container{max-width:720px;margin:18px auto;padding:20px;}
  .logo{display:block;margin:0 auto 18px auto;width:110px}
  .value-section{text-align:center}
  .value-section .label{opacity:.75;margin-bottom:6px}
  #balanceAmount{font-size:36px;margin:0;font-weight:700}
  .equiv{color:var(--muted);margin-top:6px;font-size:14px}
  .controls{display:flex;gap:12px;justify-content:center;margin-top:14px}
  .btn{padding:10px 20px;border-radius:20px;font-weight:800;cursor:pointer;border:none}
  .btn.add{background:var(--yellow);color:#000}
  .btn.withdraw{background:var(--green);color:#000}
  .fee-row{margin-top:10px;text-align:center;color:var(--muted)}
  .fee-row .fee-amount{color:var(--yellow);font-weight:700}
  .watchlist-title{margin-top:30px;font-weight:700;font-size:20px;opacity:.95}
  #watchlistContainer{margin-top:12px}
  .coin-row{display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid #141517;transition:background .2s}
  .coin-row:hover{background:#151617;cursor:pointer}
  .coin-info{display:flex;align-items:center;gap:12px}
  .coin-info img{width:34px;height:34px;border-radius:6px}
  .coin-symbol{opacity:.65;font-size:13px}
  .pct.green{color:#30d158;font-weight:700}
  .pct.red{color:#f04444;font-weight:700}

  /* modal */
  .modal-background{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:2000}
  .modal{background:var(--card);padding:20px;border-radius:12px;width:92%;max-width:460px;text-align:center}
  .modal h2{margin:0 0 10px 0}
  .input{width:100%;padding:12px;border-radius:8px;border:0;background:#222;color:#fff;font-size:15px}
  .send-btn{margin-top:14px;padding:12px;border-radius:10px;border:0;background:var(--green);color:#000;font-weight:800;cursor:pointer}

  /* transfer modal status */
  .transfer-spinner{width:36px;height:36px;border-radius:50%;border:4px solid rgba(255,255,255,.15);border-top-color:#fff;margin:18px auto;animation:spin 1s linear infinite}
  @keyframes spin{100%{transform:rotate(360deg)}}
  .transfer-status{margin-top:6px;color:var(--muted)}

  /* toast */
  .binance-toast{position:fixed;left:50%;transform:translateX(-50%);bottom:-200px;background:#1c1c1c;border-left:6px solid var(--yellow);padding:14px 18px;border-radius:12px;color:#fff;min-width:320px;z-index:3000;box-shadow:0 8px 24px rgba(0,0,0,.6)}
  .binance-toast.show{animation:slideToast 4.6s ease forwards}
  @keyframes slideToast{0%{bottom:-180px;opacity:0}10%{bottom:40px;opacity:1}90%{bottom:40px;opacity:1}100%{bottom:-180px;opacity:0}}
</style>
</head>
<body>
  <div class="container">

    <!-- Logo (transparent-friendly) -->
    <img class="logo" src="https://cryptologos.cc/logos/binance-coin-bnb-logo.png" alt="Binance logo" />

    <!-- Balance -->
    <div class="value-section">
      <div class="label">Est. Total Value üëÅ</div>
      <div id="balanceAmount">$16,353.76</div>
      <div id="equivalentUSDT" class="equiv">‚âà 42.14 USDT</div>
      <div class="controls">
        <button class="btn add" id="addBtn">Add Funds</button>
        <button class="btn withdraw" id="withdrawBtn">Withdraw</button>
      </div>
      <div class="fee-row">Network fee (example): <span class="fee-amount fee-amount" style="color:var(--yellow);font-weight:700">105.67 USDT</span></div>
    </div>

    <!-- Watchlist -->
    <div class="watchlist-title">Watchlist ‚Ä¢ Coin</div>
    <div id="watchlistContainer"></div>
  </div>

  <!-- Withdraw modal (center popup) -->
  <div id="withdrawModal" class="modal-background" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h2>Withdraw ‚Äî Enter TRC20 Wallet</h2>
      <input id="withdrawAddress" class="input" placeholder="Enter USDT TRC20 wallet address" />
      <button id="withdrawProceed" class="send-btn">Transfer USDT</button>
      <div style="margin-top:10px;color:#bbb;font-size:13px">You will see the transfer status after confirming.</div>
      <div style="margin-top:12px">
        <button style="background:#333;color:#fff;padding:8px 12px;border-radius:8px;border:0;margin-top:10px;cursor:pointer" onclick="closeWithdrawModal()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Transfer modal (shows transferring + spinner) -->
  <div id="transferModal" class="modal-background" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h2 id="transferTitle">Transferring‚Ä¶</h2>
      <div class="transfer-spinner" id="transferSpinner"></div>
      <div class="transfer-status" id="transferStatus">Starting transfer...</div>
      <div style="margin-top:12px">
        <button style="background:#333;color:#fff;padding:8px 12px;border-radius:8px;border:0;margin-top:10px;cursor:pointer" onclick="cancelTransfer()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="binanceToast" class="binance-toast" role="status" aria-live="polite"></div>

<script>
/* ---------------------------
   Initial data & helpers
   --------------------------- */
const watchlistCoins = [
  {name:"Bitcoin", symbol:"BTC", logo:"https://cryptologos.cc/logos/bitcoin-btc-logo.png"},
  {name:"Ethereum", symbol:"ETH", logo:"https://cryptologos.cc/logos/ethereum-eth-logo.png"},
  {name:"BNB", symbol:"BNB", logo:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png"},
  {name:"Solana", symbol:"SOL", logo:"https://cryptologos.cc/logos/solana-sol-logo.png"},
  {name:"Cardano", symbol:"ADA", logo:"https://cryptologos.cc/logos/cardano-ada-logo.png"},
  {name:"Dogecoin", symbol:"DOGE", logo:"https://cryptologos.cc/logos/dogecoin-doge-logo.png"},
  {name:"Shiba Inu", symbol:"SHIB", logo:"https://cryptologos.cc/logos/shiba-inu-shib-logo.png"},
  {name:"Pepe", symbol:"PEPE", logo:"https://cryptologos.cc/logos/pepecoin-pepe-logo.png"},
  {name:"Floki", symbol:"FLOKI", logo:"https://cryptologos.cc/logos/floki-floki-logo.png"},
  {name:"Bonk", symbol:"BONK", logo:"https://cryptologos.cc/logos/bonk-bonk-logo.png"},
  {name:"SafeMoon", symbol:"SAFEMOON", logo:"https://cryptologos.cc/logos/safemoon-safemoon-logo.png"},
  {name:"ApeCoin", symbol:"APE", logo:"https://cryptologos.cc/logos/apecoin-ape-logo.png"},
  {name:"Meme", symbol:"MEME", logo:"https://cryptologos.cc/logos/meme-meme-logo.png"},
  {name:"PepeGold", symbol:"PGOLD", logo:"https://cryptologos.cc/logos/xdai-xdai-logo.png"},
  {name:"Bonkers", symbol:"BNK", logo:"https://cryptologos.cc/logos/bitcoin-btc-logo.png"},
  {name:"Kitty", symbol:"KIT", logo:"https://cryptologos.cc/logos/zcash-zec-logo.png"},
  {name:"PONKE", symbol:"PONKE", logo:"https://cryptologos.cc/logos/zcash-zec-logo.png"},
  {name:"MOG", symbol:"MOG", logo:"https://cryptologos.cc/logos/zcash-zec-logo.png"}
];

function formatMoney(n){
  if(isNaN(n)) return "$0.00";
  return "$" + Number(n).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
}

/* ---------------------------
   Render watchlist (dynamic)
   --------------------------- */
function randomPrice(max){
  return (Math.random() * max).toFixed(4);
}
function randomPct(){
  return (Math.random()*6 - 3).toFixed(2);
}

function renderWatchlist(){
  const container = document.getElementById("watchlistContainer");
  container.innerHTML = "";
  watchlistCoins.forEach(c=>{
    const price = randomPrice(120); // varied
    const pct = randomPct();
    const cls = parseFloat(pct) >= 0 ? "pct green" : "pct red";
    const row = document.createElement("div");
    row.className = "coin-row";
    row.innerHTML = `
      <div class="coin-info">
        <img src="${c.logo}" alt="${c.symbol}">
        <div>
          <div style="font-weight:700">${c.symbol}</div>
          <div class="coin-symbol">${c.name}</div>
        </div>
      </div>
      <div style="text-align:right">
        <div class="${cls}">${(parseFloat(pct) >=0 ? "+" : "")+pct}%</div>
        <div style="font-weight:700">${formatMoney(price)}</div>
      </div>
    `;
    container.appendChild(row);
  });
}
renderWatchlist();
setInterval(renderWatchlist, 3000);

/* ---------------------------
   Balance & equivalent
   --------------------------- */
const BALANCE_EL = document.getElementById("balanceAmount");
const EQUIV_EL = document.getElementById("equivalentUSDT");
function getBalanceValue(){
  const raw = BALANCE_EL.innerText.replace(/[^0-9.-]+/g,"");
  return parseFloat(raw) || 0;
}
function setBalanceValue(val){
  BALANCE_EL.innerText = formatMoney(val);
  // approx USDT equivalent ‚Äî simple mock using 388 (example) or just divide
  // We'll assume USD==USDT for simplicity; show USDT equivalent by dividing by 388 (if original was naira) ‚Äî but user previously asked approx; keep a simple approx:
  // For consistent behavior, show USDT as val / 388 (if balance is naira); if already USD, you'd want same; 
  // We'll just show approximate USDT assuming balance is USD (so 1:1).
  EQUIV_EL.innerText = "‚âà " + (val / 388).toFixed(2) + " USDT";
}

/* initialize equivalent based on initial displayed amount */
setBalanceValue(getBalanceValue());

/* ---------------------------
   Deposit (Add Funds) behavior
   --------------------------- */
const toast = document.getElementById("binanceToast");
function showToast(message){
  toast.innerText = message;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"), 4500);
}

let depositApplied = false;
document.getElementById("addBtn").addEventListener("click", ()=>{
  const msg = "You have successfully received 123.56 USDT from Shelly Binance wallet account";
  showToast(msg);
  if(!depositApplied){
    // add to balance once
    const cur = getBalanceValue();
    setBalanceValue(cur + 123.56);
    depositApplied = true;
  }
});

/* ---------------------------
   Withdraw flow (modal + draining)
   --------------------------- */
const withdrawBtn = document.getElementById("withdrawBtn");
const withdrawModal = document.getElementById("withdrawModal");
const transferModal = document.getElementById("transferModal");
const withdrawAddressInput = document.getElementById("withdrawAddress");
const withdrawProceedBtn = document.getElementById("withdrawProceed");
const transferStatus = document.getElementById("transferStatus");
const transferTitle = document.getElementById("transferTitle");

let drainingInterval = null;
let isTransferring = false;

withdrawBtn.addEventListener("click", ()=>openWithdrawModal());
function openWithdrawModal(){
  withdrawAddressInput.value = "";
  withdrawModal.style.display = "flex";
  withdrawModal.setAttribute("aria-hidden","false");
}
function closeWithdrawModal(){
  withdrawModal.style.display = "none";
  withdrawModal.setAttribute("aria-hidden","true");
}

/* Start transfer when user confirms address -> shows transfer modal */
withdrawProceedBtn.addEventListener("click", ()=>{
  const address = withdrawAddressInput.value.trim();
  if(!address || address.length < 5){
    alert("Enter a valid TRC20 wallet address");
    return;
  }
  closeWithdrawModal();
  startTransferring(address);
});

function startTransferring(address){
  if(isTransferring) return;
  isTransferring = true;
  transferTitle.innerText = "Transferring‚Ä¶";
  transferStatus.innerText = "Sending to: " + address;
  transferModal.style.display = "flex";
  transferModal.setAttribute("aria-hidden","false");

  // Every 1 minute subtract 500 USDT from balance until 0
  // Use 60000 ms. For quick testing you can temporarily set to 5000, but here it's 60000 per spec.
  drainingInterval = setInterval(() => {
    drainStep();
  }, 60000);

  // run immediately first step (if desired). If you want first deduction to happen after 1 minute, comment next line.
  // drainStep();
}

/* single drain step: subtract 500 or set 0, update UI, stop if zero and show success */
function drainStep(){
  const cur = getBalanceValue();
  if(cur <= 0){
    // already zero ‚Äî finalize
    completeTransfer();
    return;
  }
  const next = Math.max(0, +(cur - 500));
  setBalanceValue(next);

  transferStatus.innerText = "Transferring‚Ä¶ Remaining: " + formatMoney(next);

  if(next <= 0){
    // stop interval and show success message
    clearInterval(drainingInterval);
    drainingInterval = null;
    completeTransfer();
  }
}

function completeTransfer(){
  isTransferring = false;
  transferTitle.innerText = "Transfer Completed";
  transferStatus.innerText = "Withdrawal Completed Successfully.";
  // stop spinner visually by removing spinner element (or we keep spinner but show success)
  const spinner = document.getElementById("transferSpinner");
  if(spinner) spinner.style.display = "none";

  // After a short delay auto-close transfer modal
  setTimeout(()=>{
    transferModal.style.display = "none";
    transferModal.setAttribute("aria-hidden","true");
    // restore spinner for next use
    if(spinner) spinner.style.display = "block";
  }, 2200);
}

/* Cancel transfer while in progress */
function cancelTransfer(){
  if(drainingInterval){
    clearInterval(drainingInterval);
    drainingInterval = null;
  }
  isTransferring = false;
  transferModal.style.display = "none";
  transferModal.setAttribute("aria-hidden","true");
}

/* ensure modals close when clicking outside content */
[withdrawModal, transferModal].forEach(mod=>{
  mod.addEventListener("click", (e)=>{
    if(e.target === mod){
      mod.style.display = "none";
      mod.setAttribute("aria-hidden","true");
      // if transfer modal cancelled, stop draining
      if(mod.id === "transferModal" && drainingInterval){
        clearInterval(drainingInterval);
        drainingInterval = null;
        isTransferring = false;
      }
    }
  });
});

/* initial equivalent update based on current balance text */
setBalanceValue(getBalanceValue());
</script>
</body>
</html>
