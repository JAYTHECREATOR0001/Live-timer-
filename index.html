<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Binance-style Crypto UI</title>

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
  background-color: #0e0f11;
  color: white;
}

.container {
  padding: 20px;
  max-width: 600px;
  margin: auto;
}

.value-section h1 {
  font-size: 40px;
  font-weight: 700;
}

.add-funds, .withdraw-btn {
  padding: 10px 22px;
  border-radius: 20px;
  font-weight: 700;
  display: inline-block;
  margin: 10px 5px 0 0;
  cursor: pointer;
  text-align: center;
}

.add-funds { background-color: #f5c32c; color: black; }
.withdraw-btn { background-color: #1ecb6c; color: black; }

.watchlist-title {
  margin-top: 35px;
  font-size: 22px;
  font-weight: 600;
  opacity: 0.9;
}

.coin-row {
  display: flex;
  justify-content: space-between;
  padding: 14px 0;
  border-bottom: 1px solid #1a1b1e;
  align-items: center;
  transition: background-color 0.3s ease;
}

.coin-row:hover { background-color: #1c1d21; cursor: pointer; }

.coin-info { display: flex; align-items: center; }

.coin-info img {
  width: 32px;
  margin-right: 12px;
}

.coin-symbol { opacity: 0.6; font-size: 13px; }
.red { color: #f04444; font-weight: 600; }
.green { color: #30d158; font-weight: 600; }

/* Modal */
.modal-background {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

.modal {
  background-color: #1b1c1f;
  padding: 25px;
  width: 90%;
  max-width: 420px;
  border-radius: 12px;
  text-align: center;
}

input {
  width: 95%;
  padding: 12px;
  margin-top: 15px;
  background-color: #2a2b2e;
  border: none;
  color: white;
  border-radius: 8px;
  font-size: 16px;
}

.send-btn {
  margin-top: 20px;
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: none;
  font-size: 17px;
  font-weight: 700;
  cursor: pointer;
  background: #1ecb6c;
  color: black;
}

.spinner {
  width: 26px;
  height: 26px;
  border: 4px solid #ffffff30;
  border-top-color: #fff;
  border-radius: 50%;
  margin: 15px auto;
  animation: spin 1s linear infinite;
}

@keyframes spin { 100% { transform: rotate(360deg); } }

/* Toast */
.binance-toast {
  position: fixed;
  bottom: -150px;
  left: 50%;
  transform: translateX(-50%);
  background: #1c1c1c;
  border-left: 6px solid #f5c32c;
  padding: 16px 20px;
  border-radius: 12px;
  color: white;
  min-width: 300px;
  max-width: 90%;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 12px;
  opacity: 0;
  transition: all 0.5s ease;
  z-index: 3000;
}

.binance-toast.show { animation: slideToast 4.5s ease forwards; }

@keyframes slideToast {
  0% { bottom: -150px; opacity: 0; }
  10% { bottom: 40px; opacity: 1; }
  90% { bottom: 40px; opacity: 1; }
  100% { bottom: -150px; opacity: 0; }
}

.toast-icon {
  width: 32px;
  height: 32px;
  background: #f5c32c;
  color: black;
  font-weight: 900;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

</style>
</head>

<body>

<div class="container">

  <!-- Logo -->
  <img src="https://cryptologos.cc/logos/binance-coin-bnb-logo.png" 
       width="90" 
       style="display:block;margin:0 auto 20px auto;">

  <div class="value-section">
    <div style="opacity:0.7; margin-top:10px;">Est. Total Value üëÅ</div>
    <h1 id="balanceAmount">$16,599.48</h1>
  </div>

  <div class="add-funds" onclick="handleDeposit()">Add Funds</div>
  <div class="withdraw-btn" onclick="openWithdraw()">Withdraw</div>

  <div class="watchlist-title">Watchlist ‚Ä¢ Coin</div>
  <div id="watchlistContainer"></div>
</div>

<!-- Withdraw Modal -->
<div class="modal-background" id="withdrawModal">
  <div class="modal">
    <h2>Enter TRC20 Wallet</h2>
    <input id="walletInput" placeholder="Wallet Address">
    <button class="send-btn" onclick="startTransfer()">Send</button>
  </div>
</div>

<!-- Transfer Modal -->
<div class="modal-background" id="transferModal">
  <div class="modal">
    <h2>Transferring‚Ä¶</h2>
    <div class="spinner"></div>
    <p id="transferStatus">Processing Transaction‚Ä¶</p>
  </div>
</div>

<!-- Toast -->
<div id="binanceToast" class="binance-toast">
  <div class="toast-icon">‚ÇÆ</div>
  <div class="toast-text" id="toastText">Deposit Completed</div>
</div>

<script>
let depositDone = false;
let withdrawInterval = null;

function handleDeposit() {
  showToast("You have successfully received 123.56 USDT from Shelly Binance wallet account");

  if (!depositDone) {
    updateBalance(123.56);
    depositDone = true;
  }
}

function showToast(msg) {
  const toast = document.getElementById("binanceToast");
  document.getElementById("toastText").innerText = msg;
  toast.classList.add("show");
  setTimeout(() => toast.classList.remove("show"), 4500);
}

function updateBalance(amount) {
  const balElement = document.getElementById("balanceAmount");
  let val = balElement.innerText.replace("$","").replace(/,/g,"");
  let newVal = parseFloat(val) + amount;
  balElement.innerText = "$" + newVal.toLocaleString(undefined,{minimumFractionDigits:2});
}

function openWithdraw() {
  document.getElementById("withdrawModal").style.display = "flex";
}

function startTransfer() {
  let wallet = document.getElementById("walletInput").value.trim();
  if (wallet.length < 4) return alert("Enter a valid TRC20 wallet address");

  document.getElementById("withdrawModal").style.display = "none";
  document.getElementById("transferModal").style.display = "flex";

  let balanceEl = document.getElementById("balanceAmount");

  withdrawInterval = setInterval(() => {
    let raw = balanceEl.innerText.replace("$","").replace(/,/g,"");
    let bal = parseFloat(raw);

    if (bal <= 0) {
      balanceEl.innerText = "$0.00";
      document.getElementById("transferStatus").innerText = "Transfer Completed";
      clearInterval(withdrawInterval);
      return;
    }

    let newBal = bal - 100;
    if (newBal < 0) newBal = 0;

    balanceEl.innerText = "$" + newBal.toLocaleString(undefined,{minimumFractionDigits:2});
    document.getElementById("transferStatus").innerText =
      "Transferring‚Ä¶ Remaining: $" + newBal.toLocaleString(undefined,{minimumFractionDigits:2});

  }, 60000); //100 USDT per minute

  // ‚ö° Fast Mode for Testing (10 seconds)
  // Remove if not needed
  /*
  withdrawInterval = setInterval(() => { ... }, 10000);
  */
}

////////////////////////
//// WATCHLIST LOGIC ///
////////////////////////

const mockCoins = [
  { name:"BNB", symbol:"BNB", logo:"https://cryptologos.cc/logos/binance-coin-bnb-logo.png" },
  { name:"BTC", symbol:"BTC", logo:"https://cryptologos.cc/logos/bitcoin-btc-logo.png" },
  { name:"ETH", symbol:"ETH", logo:"https://cryptologos.cc/logos/ethereum-eth-logo.png" },
  { name:"SOL", symbol:"SOL", logo:"https://cryptologos.cc/logos/solana-sol-logo.png" }
];

function renderWatchlist() {
  const list = document.getElementById("watchlistContainer");
  list.innerHTML = "";

  mockCoins.forEach(c => {
    let div = document.createElement("div");
    div.className = "coin-row";
    div.innerHTML = `
      <div class="coin-info">
        <img src="${c.logo}">
        <div>
          <div>${c.name}</div>
          <div class="coin-symbol">${c.symbol}</div>
        </div>
      </div>
      <div style="text-align:right;">
        <div class="green">+1.24%</div>
        <div>$38.2341</div>
      </div>
    `;
    list.appendChild(div);
  });
}

renderWatchlist();
</script>
</body>
</html>
